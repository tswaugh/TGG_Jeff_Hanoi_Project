&ACCESS RVP
&REL 764
&PARAM TEMPLATE = C:\KRC\Roboter\Template\vorgabe
&PARAM EDITMASK = *
DEF test1( )
;FOLD INI;%{PE}%V3.2.0,%MKUKATPBASIS,%CINIT,%VCOMMON,%P
;FOLD BAS INI;%{E}%V3.2.0,%MKUKATPBASIS,%CINIT,%VINIT,%P
GLOBAL INTERRUPT DECL 3 WHEN $STOPMESS==TRUE DO IR_STOPM ( )
INTERRUPT ON 3 
BAS (#INITMOV,0 )
;ENDFOLD (BAS INI)
;FOLD A20 INI;%{E}%V3.2.0,%MKUKATPA20,%CINIT,%VINIT,%P
IF ARC20==TRUE THEN
A20 (ARC_INI)
INTERRUPT DECL 6 WHEN $CYCFLAG[3]==FALSE DO A20(TECH_STOP2)
ENDIF
;ENDFOLD (A20 INI)
;FOLD A10 INI;%{E}%V3.2.0,%MKUKATPARC,%CINIT,%VINIT,%P
IF A10_OPTION==#ACTIVE THEN
INTERRUPT DECL 4 WHEN $CYCFLAG[2]==FALSE DO A10 (#APPL_ERROR)
INTERRUPT DECL 7 WHEN A_ARC_SWI==#ACTIVE DO A10 (#ARC_SEAM)
INTERRUPT DECL 5 WHEN A_FLY_ARC==TRUE DO A10 (#HPU_ARC)
INTERRUPT  ON 5
A10_INI ( )
ENDIF
;ENDFOLD (A10 INI)
;FOLD GRIPPER INI;%{E}%V3.2.0,%MKUKATPGRIPPER,%CINIT,%VINIT,%P
USER_GRP(0,DUMMY,DUMMY,GDEFAULT)
;ENDFOLD (GRIPPER INI)
;FOLD SPOT INI;%{E}%V3.2.0,%MKUKATPSPOT,%CINIT,%VINIT,%P
USERSPOT(#INIT)
;ENDFOLD (SPOT INI)
;FOLD TOUCHSENSE INI;%{E}%V3.2.0,%MKUKATPTS,%CINIT,%VINIT,%P
IF H70_OPTION THEN
INTERRUPT DECL 15 WHEN $MEAS_PULSE[TOUCH_I[TOUCH_ACTIVE].IN_NR] DO H70 (6,CD0 )
INTERRUPT DECL 16 WHEN $ZERO_MOVE DO H70 (7,CD0 )
INTERRUPT DECL 17 WHEN $TECHPAR_C[FG_TOUCH,8]>0.5 DO H70 (8,CD0)
H70 (1,CD0 )
ENDIF
;ENDFOLD (TOUCHSENSE INI)
;FOLD USER INI;%{E}%V3.2.0,%MKUKATPUSER,%CINIT,%VINIT,%P
;Make your modifications here
;ENDFOLD (USER INI)
;ENDFOLD (INI)
loop
;FOLD PTP HOME  Vel= 100 % DEFAULT;%{PE}%R 4.1.16,%MKUKATPBASIS,%CMOVE,%VPTP,%P 1:PTP, 2:HOME, 3:, 5:100, 7:DEFAULT
$BWDSTART = FALSE
PDAT_ACT=PDEFAULT
BAS(#PTP_DAT)
FDAT_ACT=FHOME
BAS(#FRAMES)
BAS(#VEL_PTP,100)
$H_POS=XHOME
PTP XHOME 
;ENDFOLD


;FOLD WAIT Time= 2 sec;%{PE}%R 4.1.16,%MKUKATPBASIS,%CWAIT,%VWAIT,%P 2:2
WAIT SEC 2
;ENDFOLD

;FOLD PTP P952  Vel= 50 % PDAT628 Tool[1] Base[0];%{PE}%R 4.1.16,%MKUKATPBASIS,%CMOVE,%VPTP,%P 1:PTP, 2:P952, 3:, 5:50, 7:PDAT628
$BWDSTART = FALSE
PDAT_ACT=PPDAT628
BAS(#PTP_DAT)
FDAT_ACT=FP952
BAS(#FRAMES)
BAS(#VEL_PTP,50)
PTP XP952 
;ENDFOLD
;FOLD PTP P954  Vel= 50 % PDAT630 Tool[1] Base[0];%{PE}%R 4.1.16,%MKUKATPBASIS,%CMOVE,%VPTP,%P 1:PTP, 2:P954, 3:, 5:50, 7:PDAT630
$BWDSTART = FALSE
PDAT_ACT=PPDAT630
BAS(#PTP_DAT)
FDAT_ACT=FP954
BAS(#FRAMES)
BAS(#VEL_PTP,50)
PTP XP954 
;ENDFOLD
;FOLD PTP P955 CONT Vel= 100 % PDAT631 Tool[1]:Lexan Pointer Base[0];%{PE}%R 4.1.16,%MKUKATPBASIS,%CMOVE,%VPTP,%P 1:PTP, 2:P955, 3:C_PTP, 5:100, 7:PDAT631
$BWDSTART = FALSE
PDAT_ACT=PPDAT631
BAS(#PTP_DAT)
FDAT_ACT=FP955
BAS(#FRAMES)
BAS(#VEL_PTP,100)
PTP XP955 C_PTP
;ENDFOLD
;FOLD PTP P962 CONT Vel= 100 % PDAT638 Tool[1]:Lexan Pointer Base[0];%{PE}%R 4.1.16,%MKUKATPBASIS,%CMOVE,%VPTP,%P 1:PTP, 2:P962, 3:C_PTP, 5:100, 7:PDAT638
$BWDSTART = FALSE
PDAT_ACT=PPDAT638
BAS(#PTP_DAT)
FDAT_ACT=FP962
BAS(#FRAMES)
BAS(#VEL_PTP,100)
PTP XP962 C_PTP
;ENDFOLD
;FOLD PTP P963 CONT Vel= 100 % PDAT639 Tool[1]:Lexan Pointer Base[0];%{PE}%R 4.1.16,%MKUKATPBASIS,%CMOVE,%VPTP,%P 1:PTP, 2:P963, 3:C_PTP, 5:100, 7:PDAT639
$BWDSTART = FALSE
PDAT_ACT=PPDAT639
BAS(#PTP_DAT)
FDAT_ACT=FP963
BAS(#FRAMES)
BAS(#VEL_PTP,100)
PTP XP963 C_PTP
;ENDFOLD
;FOLD PTP P949 CONT Vel= 100 % PDAT625 Tool[1]:Lexan Pointer Base[0];%{PE}%R 4.1.16,%MKUKATPBASIS,%CMOVE,%VPTP,%P 1:PTP, 2:P949, 3:C_PTP, 5:100, 7:PDAT625
$BWDSTART = FALSE
PDAT_ACT=PPDAT625
BAS(#PTP_DAT)
FDAT_ACT=FP949
BAS(#FRAMES)
BAS(#VEL_PTP,100)
PTP XP949 C_PTP
;ENDFOLD

;FOLD PTP P950 CONT Vel= 100 % PDAT626 Tool[1]:Lexan Pointer Base[0];%{PE}%R 4.1.16,%MKUKATPBASIS,%CMOVE,%VPTP,%P 1:PTP, 2:P950, 3:C_PTP, 5:100, 7:PDAT626
$BWDSTART = FALSE
PDAT_ACT=PPDAT626
BAS(#PTP_DAT)
FDAT_ACT=FP950
BAS(#FRAMES)
BAS(#VEL_PTP,100)
PTP XP950 C_PTP
;ENDFOLD
;FOLD PTP P951 CONT Vel= 100 % PDAT627 Tool[1]:Lexan Pointer Base[0];%{PE}%R 4.1.16,%MKUKATPBASIS,%CMOVE,%VPTP,%P 1:PTP, 2:P951, 3:C_PTP, 5:100, 7:PDAT627
$BWDSTART = FALSE
PDAT_ACT=PPDAT627
BAS(#PTP_DAT)
FDAT_ACT=FP951
BAS(#FRAMES)
BAS(#VEL_PTP,100)
PTP XP951 C_PTP
;ENDFOLD
;FOLD PTP P933 CONT Vel= 100 % PDAT609 Tool[1]:Lexan Pointer Base[0];%{PE}%R 4.1.16,%MKUKATPBASIS,%CMOVE,%VPTP,%P 1:PTP, 2:P933, 3:C_PTP, 5:100, 7:PDAT609
$BWDSTART = FALSE
PDAT_ACT=PPDAT609
BAS(#PTP_DAT)
FDAT_ACT=FP933
BAS(#FRAMES)
BAS(#VEL_PTP,100)
PTP XP933 C_PTP
;ENDFOLD
;FOLD PTP P935 CONT Vel= 100 % PDAT611 Tool[1]:Lexan Pointer Base[0];%{PE}%R 4.1.16,%MKUKATPBASIS,%CMOVE,%VPTP,%P 1:PTP, 2:P935, 3:C_PTP, 5:100, 7:PDAT611
$BWDSTART = FALSE
PDAT_ACT=PPDAT611
BAS(#PTP_DAT)
FDAT_ACT=FP935
BAS(#FRAMES)
BAS(#VEL_PTP,100)
PTP XP935 C_PTP
;ENDFOLD
;FOLD PTP P937 CONT Vel= 100 % PDAT613 Tool[1]:Lexan Pointer Base[0];%{PE}%R 4.1.16,%MKUKATPBASIS,%CMOVE,%VPTP,%P 1:PTP, 2:P937, 3:C_PTP, 5:100, 7:PDAT613
$BWDSTART = FALSE
PDAT_ACT=PPDAT613
BAS(#PTP_DAT)
FDAT_ACT=FP937
BAS(#FRAMES)
BAS(#VEL_PTP,100)
PTP XP937 C_PTP
;ENDFOLD



;FOLD ; Robot is now at ship;%{PE}%R 4.1.16,%MKUKATPBASIS,%CCOMMENT,%VNORMAL,%P 2:Robot is now at ship
;ENDFOLD

;FOLD PTP P943 CONT Vel= 100 % PDAT619 Tool[1]:Lexan Pointer Base[0];%{PE}%R 4.1.16,%MKUKATPBASIS,%CMOVE,%VPTP,%P 1:PTP, 2:P943, 3:C_PTP, 5:100, 7:PDAT619
$BWDSTART = FALSE
PDAT_ACT=PPDAT619
BAS(#PTP_DAT)
FDAT_ACT=FP943
BAS(#FRAMES)
BAS(#VEL_PTP,100)
PTP XP943 C_PTP
;ENDFOLD
;FOLD PTP P944 CONT Vel= 100 % PDAT620 Tool[1]:Lexan Pointer Base[0];%{PE}%R 4.1.16,%MKUKATPBASIS,%CMOVE,%VPTP,%P 1:PTP, 2:P944, 3:C_PTP, 5:100, 7:PDAT620
$BWDSTART = FALSE
PDAT_ACT=PPDAT620
BAS(#PTP_DAT)
FDAT_ACT=FP944
BAS(#FRAMES)
BAS(#VEL_PTP,100)
PTP XP944 C_PTP
;ENDFOLD
;FOLD PTP P945 CONT Vel= 100 % PDAT621 Tool[1]:Lexan Pointer Base[0];%{PE}%R 4.1.16,%MKUKATPBASIS,%CMOVE,%VPTP,%P 1:PTP, 2:P945, 3:C_PTP, 5:100, 7:PDAT621
$BWDSTART = FALSE
PDAT_ACT=PPDAT621
BAS(#PTP_DAT)
FDAT_ACT=FP945
BAS(#FRAMES)
BAS(#VEL_PTP,100)
PTP XP945 C_PTP
;ENDFOLD
;FOLD PTP P946 CONT Vel= 100 % PDAT622 Tool[1]:Lexan Pointer Base[0];%{PE}%R 4.1.16,%MKUKATPBASIS,%CMOVE,%VPTP,%P 1:PTP, 2:P946, 3:C_PTP, 5:100, 7:PDAT622
$BWDSTART = FALSE
PDAT_ACT=PPDAT622
BAS(#PTP_DAT)
FDAT_ACT=FP946
BAS(#FRAMES)
BAS(#VEL_PTP,100)
PTP XP946 C_PTP
;ENDFOLD
;FOLD PTP P947 CONT Vel= 100 % PDAT623 Tool[1]:Lexan Pointer Base[0];%{PE}%R 4.1.16,%MKUKATPBASIS,%CMOVE,%VPTP,%P 1:PTP, 2:P947, 3:C_PTP, 5:100, 7:PDAT623
$BWDSTART = FALSE
PDAT_ACT=PPDAT623
BAS(#PTP_DAT)
FDAT_ACT=FP947
BAS(#FRAMES)
BAS(#VEL_PTP,100)
PTP XP947 C_PTP
;ENDFOLD

;FOLD ; Begin with tower 1;%{PE}%R 4.1.16,%MKUKATPBASIS,%CCOMMENT,%VNORMAL,%P 2:Begin with tower 1
;ENDFOLD


;FOLD ; tower 2 done;%{PE}%R 4.1.16,%MKUKATPBASIS,%CCOMMENT,%VNORMAL,%P 2:tower 2 done
;ENDFOLD
;FOLD ; approach;%{PE}%R 4.1.16,%MKUKATPBASIS,%CCOMMENT,%VNORMAL,%P 2:approach
;ENDFOLD



;FOLD ; foreword approach;%{PE}%R 4.1.16,%MKUKATPBASIS,%CCOMMENT,%VNORMAL,%P 2:foreword approach
;ENDFOLD







;FOLD ; mouth;%{PE}%R 4.1.16,%MKUKATPBASIS,%CCOMMENT,%VNORMAL,%P 2:mouth
;ENDFOLD

;FOLD ; top vert orbit;%{PE}%R 4.1.16,%MKUKATPBASIS,%CCOMMENT,%VNORMAL,%P 2:top vert orbit
;ENDFOLD



;FOLD ; mid orbit;%{PE}%R 4.1.16,%MKUKATPBASIS,%CCOMMENT,%VNORMAL,%P 2:mid orbit
;ENDFOLD














;FOLD PTP HOME CONT Vel= 50 % DEFAULT;%{PE}%R 4.1.16,%MKUKATPBASIS,%CMOVE,%VPTP,%P 1:PTP, 2:HOME, 3:C_PTP, 5:50, 7:DEFAULT
$BWDSTART = FALSE
PDAT_ACT=PDEFAULT
BAS(#PTP_DAT)
FDAT_ACT=FHOME
BAS(#FRAMES)
BAS(#VEL_PTP,50)
$H_POS=XHOME
PTP XHOME C_PTP
;ENDFOLD
endloop


;FOLD ; paul center index1;%{PE}%R 4.1.16,%MKUKATPBASIS,%CCOMMENT,%VNORMAL,%P 2:paul center index1
;ENDFOLD
;FOLD PTP P584  Vel= 100 % PDAT377 Tool[1]:Lexan Pointer Base[0];%{PE}%R 4.1.16,%MKUKATPBASIS,%CMOVE,%VPTP,%P 1:PTP, 2:P584, 3:, 5:100, 7:PDAT377
$BWDSTART = FALSE
PDAT_ACT=PPDAT377
BAS(#PTP_DAT)
FDAT_ACT=FP584
BAS(#FRAMES)
BAS(#VEL_PTP,100)
PTP XP584 
;ENDFOLD


END